"use strict";(self["webpackChunkvue3_2022_spring"]=self["webpackChunkvue3_2022_spring"]||[]).push([[73],{3073:function(s,t,e){e.r(t),e.d(t,{default:function(){return q}});var n=e(6252),o=e(9963);const a=s=>((0,n.dD)("data-v-fcf768ba"),s=s(),(0,n.Cn)(),s),i={class:"container-fluid"},c={class:"row"},l={class:"bg-light sidebar min-vh-100 py-2"},u={class:"position-sticky h-100 d-flex flex-column"},r=a((()=>(0,n._)("h3",{class:"fs-3 mb-2 pb-2 border-bottom"},"後台系統",-1))),d={class:"nav flex-column"},p={class:"nav-item"},m=a((()=>(0,n._)("span",{class:"material-icons-outlined me-1"},"inventory_2",-1))),h=a((()=>(0,n._)("span",null,"產品管理",-1))),_={class:"nav-item"},v=a((()=>(0,n._)("span",{class:"material-icons-outlined me-1"},"summarize",-1))),f=a((()=>(0,n._)("span",null,"訂單管理",-1))),g={class:"nav-item"},k=a((()=>(0,n._)("span",{class:"material-icons-outlined me-1"},"confirmation_number",-1))),b=a((()=>(0,n._)("span",null,"優惠券管理",-1))),w={class:"nav-item"},$=a((()=>(0,n._)("span",{class:"material-icons-outlined me-1"},"description",-1))),x=a((()=>(0,n._)("span",null,"文章管理",-1))),y=a((()=>(0,n._)("div",{class:"mt-auto"},null,-1))),A={class:"nav flex-column border-top"},C={class:"nav-item"},W={class:"content-wrapper p-2"};function z(s,t,e,a,z,D){const S=(0,n.up)("router-link"),j=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)("div",i,[(0,n._)("div",c,[(0,n._)("aside",l,[(0,n._)("div",u,[r,(0,n._)("ul",d,[(0,n._)("li",p,[(0,n.Wm)(S,{to:"/admin/products"},{default:(0,n.w5)((()=>[m,h])),_:1})]),(0,n._)("li",_,[(0,n.Wm)(S,{to:"/admin/orders"},{default:(0,n.w5)((()=>[v,f])),_:1})]),(0,n._)("li",g,[(0,n.Wm)(S,{to:"/admin/coupons"},{default:(0,n.w5)((()=>[k,b])),_:1})]),(0,n._)("li",w,[(0,n.Wm)(S,{to:"/admin/articles"},{default:(0,n.w5)((()=>[$,x])),_:1})])]),y,(0,n._)("ul",A,[(0,n._)("li",C,[(0,n._)("button",{type:"button",class:"w-100",onClick:t[0]||(t[0]=(0,o.iM)(((...s)=>D.logout&&D.logout(...s)),["prevent"]))}," 登出 ")])])])]),(0,n._)("div",W,[z.checkAccount?((0,n.wg)(),(0,n.j4)(j,{key:0})):(0,n.kq)("",!0)])])])}var D={data(){return{checkAccount:!1}},mounted(){const s=document.cookie.replace(/(?:(?:^|.*;\s*)signinToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=s,this.checkSignin()},methods:{checkSignin(){const s="https://vue3-course-api.hexschool.io/v2/api/user/check";this.$http.post(s).then((()=>{this.$emitter.emit("page-loading",!1),this.checkAccount=!0})).catch((s=>{console.dir(s),alert(s.response.data.message),this.$router.push("/login")}))},logout(){const s="https://vue3-course-api.hexschool.io/v2/logout";this.$http.post(s).then((s=>{console.log(s),this.$router.push("/login")})).catch((s=>{console.dir(s),alert(s.response.data.message)}))}}},S=e(3744);const j=(0,S.Z)(D,[["render",z],["__scopeId","data-v-fcf768ba"]]);var q=j}}]);
//# sourceMappingURL=73.44ce302b.js.map