"use strict";(self["webpackChunkvue3_2022_spring"]=self["webpackChunkvue3_2022_spring"]||[]).push([[570],{570:function(a,t,n){n.r(t),n.d(t,{default:function(){return I}});var e=n(6252);const r=a=>((0,e.dD)("data-v-70f91584"),a=a(),(0,e.Cn)(),a),o={class:"navbar navbar-expand-lg navbar-light bg-white border-bottom","aria-label":"Eighth navbar example"},s={class:"container"},l=r((()=>(0,e._)("a",{class:"navbar-brand",href:"#"},"Container",-1))),i=r((()=>(0,e._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarsExample07","aria-controls":"navbarsExample07","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,e._)("span",{class:"navbar-toggler-icon"})],-1))),c={class:"collapse navbar-collapse",id:"navbarsExample07"},d={class:"navbar-nav me-auto mb-2 mb-lg-0"},u={class:"nav-item"},p=(0,e.Uk)("首頁"),v={class:"nav-item"},b=(0,e.Uk)("關於"),h={class:"nav-item"},m=(0,e.Uk)("產品列表"),g={class:"navbar-nav mb-2 mb-lg-0"},_={class:"nav-item"},f=(0,e.Uk)(" 後台管理 "),k={class:"container py-5"};function w(a,t,n,r,w,C){const x=(0,e.up)("router-link"),y=(0,e.up)("router-view"),W=(0,e.up)("front-cart");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e._)("nav",o,[(0,e._)("div",s,[l,i,(0,e._)("div",c,[(0,e._)("ul",d,[(0,e._)("li",u,[(0,e.Wm)(x,{class:"nav-link",to:"/"},{default:(0,e.w5)((()=>[p])),_:1})]),(0,e._)("li",v,[(0,e.Wm)(x,{class:"nav-link",to:"/about"},{default:(0,e.w5)((()=>[b])),_:1})]),(0,e._)("li",h,[(0,e.Wm)(x,{class:"nav-link",to:"/products"},{default:(0,e.w5)((()=>[m])),_:1})])]),(0,e._)("ul",g,[(0,e._)("li",_,[(0,e.Wm)(x,{class:"nav-link",to:"/admin"},{default:(0,e.w5)((()=>[f])),_:1})])])])])]),(0,e._)("div",k,[(0,e.Wm)(y),(0,e.Wm)(W)])],64)}var C=n(3577);const x=a=>((0,e.dD)("data-v-44040fe3"),a=a(),(0,e.Cn)(),a),y={class:"position-absolute translate-middle badge rounded-pill bg-danger"},W=x((()=>(0,e._)("span",{class:"d-block material-icons"}," shopping_cart ",-1)));function j(a,t,n,r,o,s){const l=(0,e.up)("router-link");return s.provideCart.amount>0?((0,e.wg)(),(0,e.j4)(l,{key:0,to:"/cart",class:"cart-button position-fixed end-0 bottom-0 p-1 m-2 btn-outline-secondary text-decoration-none rounded-circle border border-1"},{default:(0,e.w5)((()=>[(0,e._)("span",y,(0,C.zw)(s.provideCart.amount),1),W])),_:1})):(0,e.kq)("",!0)}var E={inject:["provideCart"]},U=n(3744);const $=(0,U.Z)(E,[["render",j],["__scopeId","data-v-44040fe3"]]);var q=$,D={components:{FrontCart:q},data(){return{cart:{data:[],amount:0}}},provide(){return{provideCart:this.cart}},mounted(){this.getCartAmount()},methods:{updateCart(a,t,n=1){const e={product_id:t,qty:n};let r=null,o=null;"新增購物車"===a?(r="https://vue3-course-api.hexschool.io/v2/api/ujhwang/cart",o="post"):"編輯購物車"===a&&(r=`https://vue3-course-api.hexschool.io/v2/api/ujhwang/cart/${this.$route.params.id}`,o="put"),this.$http[o](r,{data:e}).then((a=>{console.log(a)})).catch((a=>{console.dir(a)}))},getCartAmount(){const a="https://vue3-course-api.hexschool.io/v2/api/ujhwang/cart";this.$http.get(a).then((a=>{this.cart.data=a.data.data.carts,this.cart.data.forEach((a=>{this.cart.amount+=a.qty}))}))}}};const A=(0,U.Z)(D,[["render",w],["__scopeId","data-v-70f91584"]]);var I=A}}]);
//# sourceMappingURL=570.6343cd28.js.map