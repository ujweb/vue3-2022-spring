"use strict";(self["webpackChunkvue3_2022_spring"]=self["webpackChunkvue3_2022_spring"]||[]).push([[394],{5394:function(t,c,a){a.r(c),a.d(c,{default:function(){return L}});var e=a(6252),r=a(3577),s=a(9963);const l=t=>((0,e.dD)("data-v-d1c1ca18"),t=t(),(0,e.Cn)(),t),o={class:"row"},i={class:"col-md-6"},d={class:"row"},n={class:"col-12 mb-1 card-main card-3by2"},u=["src","alt"],p={class:"col-12 px-4"},m={class:"row justify-content-center"},g={class:"col"},_={class:"row card-3by2"},h=["src","alt"],b={class:"row"},v=["onClick"],y=["src","alt"],w={class:"col-md-6 mt-md-0 mt-2"},f={class:"badge bg-secondary rounded-pill mb-1"},C={class:"fs-7 text-secondary"},$={class:"h3 text-primary mb-0"},I={class:"fs-6 text-secondary"},k={class:"description fs-7 text-secondary mt-2"},x={class:"d-flex mt-4"},U=["selected"],z=l((()=>(0,e._)("div",{class:"col-md-12 my-4"},[(0,e._)("hr",{class:"bg-secondary"})],-1))),N={class:"col-md-12"},q=l((()=>(0,e._)("h4",null,"商品詳情",-1))),D=["innerHTML"];function H(t,c,a,l,H,P){return(0,e.wg)(),(0,e.iD)("div",o,[(0,e._)("div",i,[(0,e._)("div",d,[(0,e._)("div",n,[(0,e._)("img",{class:"img-fluid px-0",src:H.mainImg,alt:H.product.title},null,8,u)]),(0,e._)("div",p,[(0,e._)("div",m,[(0,e._)("div",g,[(0,e._)("div",_,[(0,e._)("button",{type:"button",class:(0,r.C_)(["p-0 border-0",{"opacity-50":H.mainImg===H.product.imageUrl}]),onClick:c[0]||(c[0]=t=>P.changeImg(H.product.imageUrl))},[(0,e._)("img",{class:"img-fluid px-0",src:H.product.imageUrl,alt:`${H.product.title}`},null,8,h)],2)])]),((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(H.product.imagesUrl,((t,c)=>((0,e.wg)(),(0,e.iD)("div",{class:"col ms-1 card-3by2",key:`img${c}`},[(0,e._)("div",b,[(0,e._)("button",{type:"button",class:(0,r.C_)(["p-0 border-0",{"opacity-50":H.mainImg===t}]),onClick:c=>P.changeImg(t)},[(0,e._)("img",{class:"img-fluid px-0",src:t,alt:`${H.product.title}-${c+1}`},null,8,y)],10,v)])])))),128))])])])]),(0,e._)("div",w,[(0,e._)("span",f,(0,r.zw)(H.product.category),1),(0,e._)("h1",null,(0,r.zw)(H.product.title),1),(0,e._)("div",null,[(0,e._)("del",C," 原價：NT$ "+(0,r.zw)(P.toNumber(H.product.origin_price)),1)]),(0,e._)("div",null,[(0,e._)("span",$," NT$ "+(0,r.zw)(P.toNumber(H.product.price)),1),(0,e._)("span",I," / "+(0,r.zw)(H.product.unit),1)]),(0,e._)("p",k,(0,r.zw)(H.product.description),1),(0,e._)("form",x,[(0,e.wy)((0,e._)("select",{id:"amountSelect","onUpdate:modelValue":c[1]||(c[1]=t=>H.cart.qty=t),class:"form-select w-auto me-1"},[((0,e.wg)(),(0,e.iD)(e.HY,null,(0,e.Ko)(10,(t=>(0,e._)("option",{selected:H.cart.qty,key:`${t}晚`},(0,r.zw)(t),9,U))),64))],512),[[s.bM,H.cart.qty,void 0,{number:!0}]]),(0,e._)("button",{class:"btn btn-primary",type:"button",onClick:c[2]||(c[2]=t=>P.updateCart("新增購物車"))}," 加入購物車 ")])]),z,(0,e._)("div",N,[q,(0,e._)("p",{class:"description",innerHTML:H.product.content},null,8,D)])])}var P={name:"ProductView",data(){return{product:{imageUrl:"placeholder.png",imagesUrl:["placeholder.png","placeholder.png","placeholder.png"]},mainImg:"placeholder.png",loaded:!1,cart:{qty:1}}},inject:["provideCart"],mounted(){this.getProduct(),this.getCart(),this.$emitter.on("add-cart",(t=>{const{item:c,qty:a}=t;this.addCart(c,a)}))},methods:{getProduct(){const t=`https://vue3-course-api.hexschool.io/v2/api/ujhwang/product/${this.$route.params.id}`;this.$http.get(t).then((t=>{this.$emitter.emit("page-loading",!1),this.product=t.data.product,this.mainImg=t.data.product.imageUrl}))},changeImg(t){this.mainImg=t},toNumber(t){return Number.parseInt(t,10).toLocaleString()},toParagraph(t){console.log(t)},updateCart(t){this.$emitter.emit("add-cart",t)}}},T=a(3744);const j=(0,T.Z)(P,[["render",H],["__scopeId","data-v-d1c1ca18"]]);var L=j}}]);
//# sourceMappingURL=394.16223753.js.map