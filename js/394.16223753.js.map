{"version":3,"file":"js/394.16223753.js","mappings":"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","sources":["webpack://vue3-2022-spring/./src/views/ProductView.vue","webpack://vue3-2022-spring/./src/views/ProductView.vue?f743"],"sourcesContent":["<template>\n  <div class=\"row\">\n    <div class=\"col-md-6\">\n      <div class=\"row\">\n        <div class=\"col-12 mb-1 card-main card-3by2\">\n          <img class=\"img-fluid px-0\" :src=\"mainImg\" :alt=\"product.title\">\n        </div>\n        <div class=\"col-12 px-4\">\n          <div class=\"row justify-content-center\">\n            <div class=\"col\">\n              <div class=\"row card-3by2\">\n                <button\n                  type=\"button\"\n                  class=\"p-0 border-0\"\n                  :class=\"{ 'opacity-50': mainImg === product.imageUrl }\"\n                  @click=\"changeImg(product.imageUrl)\"\n                >\n                  <img class=\"img-fluid px-0\" :src=\"product.imageUrl\" :alt=\"`${product.title}`\" >\n                </button>\n              </div>\n            </div>\n            <div\n              class=\"col ms-1 card-3by2\"\n              v-for=\"(item, index) in product.imagesUrl\"\n              :key=\"`img${index}`\"\n            >\n              <div class=\"row\">\n                <button\n                  type=\"button\"\n                  class=\"p-0 border-0\"\n                  :class=\"{ 'opacity-50': mainImg === item }\"\n                  @click=\"changeImg(item)\"\n                >\n                  <img class=\"img-fluid px-0\" :src=\"item\" :alt=\"`${product.title}-${index+1}`\">\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"col-md-6 mt-md-0 mt-2\">\n      <span class=\"badge bg-secondary rounded-pill mb-1\">\n        {{ product.category }}\n      </span>\n      <h1>\n        {{ product.title }}\n      </h1>\n      <div>\n        <del class=\"fs-7 text-secondary\">\n          原價：NT$ {{ toNumber(product.origin_price) }}\n        </del>\n      </div>\n      <div>\n        <span class=\"h3 text-primary mb-0\">\n          NT$ {{ toNumber(product.price) }}\n        </span>\n        <span class=\"fs-6 text-secondary\">\n          / {{ product.unit }}\n        </span>\n      </div>\n      <p class=\"description fs-7 text-secondary mt-2\">\n        {{ product.description }}\n      </p>\n      <form class=\"d-flex mt-4\">\n        <select id=\"amountSelect\" v-model.number=\"cart.qty\" class=\"form-select w-auto me-1\">\n          <option\n            v-for=\"idx in 10\"\n            :selected=\"cart.qty\"\n            :key=\"`${idx}晚`\"\n          >\n            {{ idx }}\n          </option>\n        </select>\n        <button\n          class=\"btn btn-primary\"\n          type=\"button\"\n          @click=\"updateCart('新增購物車')\"\n        >\n          加入購物車\n        </button>\n      </form>\n    </div>\n    <div class=\"col-md-12 my-4\">\n      <hr class=\"bg-secondary\">\n    </div>\n    <div class=\"col-md-12\">\n      <h4>商品詳情</h4>\n      <p class=\"description\" v-html=\"product.content\"></p>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ProductView',\n  data() {\n    return {\n      product: {\n        imageUrl: 'placeholder.png',\n        imagesUrl: [\n          'placeholder.png',\n          'placeholder.png',\n          'placeholder.png',\n        ],\n      },\n      mainImg: 'placeholder.png',\n      loaded: false,\n      cart: {\n        qty: 1,\n      },\n    };\n  },\n  inject: ['provideCart'],\n  mounted() {\n    this.getProduct();\n    this.getCart();\n    this.$emitter.on('add-cart', (res) => {\n      const { item, qty } = res;\n      this.addCart(item, qty);\n    });\n  },\n  methods: {\n    getProduct() {\n      const getProductApi = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/product/${this.$route.params.id}`;\n      this.$http.get(getProductApi)\n        .then((response) => {\n          this.$emitter.emit('page-loading', false);\n          this.product = response.data.product;\n          this.mainImg = response.data.product.imageUrl;\n        });\n    },\n    changeImg(img) {\n      this.mainImg = img;\n    },\n    toNumber(val) {\n      return Number.parseInt(val, 10).toLocaleString();\n    },\n    toParagraph(text) {\n      console.log(text);\n    },\n    updateCart(type) {\n      this.$emitter.emit('add-cart', type);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n  .description {\n    white-space: pre-wrap;\n  }\n  %card-outer {\n    position: relative;\n    display: block;\n    overflow: hidden;\n  }\n  %card-before {\n    content: '';\n    display: block;\n    width: 100%;\n  }\n  %card-image {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n  .card-3by2 {\n    &.card-main {\n      @extend %card-outer;\n      &::before {\n        @extend %card-before;\n        padding-top: calc((100% + 40px) * 0.66666666666666667);\n      }\n      >img {\n        @extend %card-image\n      }\n    }\n    &:not(.card-main) {\n      @extend %card-outer;\n      button {\n        &::before {\n          @extend %card-before;\n          padding-top: 66.666666666666667%;\n        }\n        img {\n          @extend %card-image\n        }\n      }\n    }\n  }\n</style>\n","import { render } from \"./ProductView.vue?vue&type=template&id=d1c1ca18&scoped=true\"\nimport script from \"./ProductView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductView.vue?vue&type=script&lang=js\"\n\nimport \"./ProductView.vue?vue&type=style&index=0&id=d1c1ca18&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/yutingh/Documents/GitHub/vue3-2022-spring/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d1c1ca18\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","src","$data","alt","title","type","imageUrl","onClick","$options","_Fragment","_renderList","imagesUrl","item","index","key","_toDisplayString","category","origin_price","price","unit","description","id","qty","$event","idx","selected","_hoisted_21","_hoisted_22","_hoisted_24","innerHTML","content","name","data","product","mainImg","loaded","cart","inject","mounted","this","getProduct","getCart","$emitter","on","res","addCart","methods","getProductApi","$route","params","$http","get","then","response","emit","changeImg","img","toNumber","val","Number","parseInt","toLocaleString","toParagraph","text","console","log","updateCart","__exports__","render"],"sourceRoot":""}